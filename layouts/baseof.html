<!doctype html>
<html
  lang="{{ site.Language.LanguageCode }}"
  dir="{{ or site.Language.LanguageDirection `ltr` }}"
>
  <head>
    {{ partial "head.html" . }}


    <style>
      #loading-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        align-items: center;
        justify-content: center;
        background: #000;
        z-index: 9999;
        pointer-events: none;
      }

      .spinner {
        width: clamp(30px, 8vmin, 80px);
        height: clamp(30px, 8vmin, 80px);
        border: clamp(3px, 0.6vmin, 6px) solid rgba(255, 255, 255, 0.3);
        border-top-color: #fff;
        border-radius: 50%;
        opacity: 0;
        animation:
          spin 1s linear infinite,
          fadeIn 0.4s ease-out 0.5s forwards;
      }

      .loading-text {
        color: #e2e8f0;
        font-family:
          ui-sans-serif,
          system-ui,
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          Roboto,
          "Helvetica Neue",
          Arial,
          sans-serif;
        font-size: 1rem;
        font-weight: 500;
        letter-spacing: 0.05em;
        opacity: 0;
        animation: fadeIn 0.4s ease-out 0.5s forwards;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      @keyframes fadeIn {
        to {
          opacity: 1;
        }
      }

      @media (prefers-reduced-motion: reduce) {
        .spinner {
          animation: none;
          border-color: #fff;
          opacity: 1;
        }

        .loading-text {
          animation: none;
          opacity: 1;
        }
      }
    </style>

    {{ with (templates.Defer (dict "key" "global")) }}
      {{ partial "css.html" . }}
    {{ end }}

    {{/* KaTeX Stylesheet for Mathematical Markup (doesn't work in _partials/css.html) */}}
    {{ $noop := .WordCount }}
    {{ if .Page.Store.Get "hasMath" }}
      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.css"
        integrity="sha384-WcoG4HRXMzYzfCgiyfrySxx90XSl2rxY5mnVY5TwtWE6KLrArNKn0T/mOgNL0Mmi"
        crossorigin="anonymous"
      />
    {{ end }}
  </head>

  <body class="bg-black! antialiased">
    <!-- This loading screen will be hidden once the main content is fully loaded -->
    <div
      id="loading-screen"
      aria-hidden="true"
      class="opacity-0 pointer-events-none transition-opacity duration-300 ease-out"
    >
      <div class="spinner"></div>
      <div class="loading-text">Loading...</div>
    </div>

    <!-- Main content container -->
    <div
      id="content"
      class="text-white max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 min-h-screen flex flex-col opacity-100 transition-opacity duration-300 ease-in"
    >
      {{ partial "header.html" . }}


      <main class="py-10 min-h-[60vh] space-y-6">
        {{ block "main" . }}{{ end }}
      </main>

      {{ partial "footer.html" . }}
    </div>
  </body>
</html>
